import '../models/app_models.dart';
import '../utils/app_colors.dart';

class DataService {
  // ุจูุงูุงุช ููููุฉ ููุฏูุฑุงุช
  static List<Course> getDummyCourses() {
    final now = DateTime.now();
    return [
      Course(
        id: '1',
        title: 'ุฏูุฑุฉ Flutter ูููุจุชุฏุฆูู',
        description: 'ุชุนูู ุฃุณุงุณูุงุช ุชุทููุฑ ุงูุชุทุจููุงุช ุจุงุณุชุฎุฏุงู Flutter',
        instructor: 'ุฃุญูุฏ ูุญูุฏ',
        imageUrl: 'images/Flutter.png',
        price: 'ูุฌุงูู',
        isFree: true,
        duration: 1200, // 20 ุณุงุนุฉ
        rating: 4.8,
        studentsCount: 1250,
        category: 'ุงูุจุฑูุฌุฉ',
        tags: ['Flutter', 'Dart', 'ุชุทููุฑ ุงูุชุทุจููุงุช'],
        createdAt: now.subtract(const Duration(days: 30)),
        updatedAt: now.subtract(const Duration(days: 5)),
      ),
      Course(
        id: '2',
        title: 'ุชุทููุฑ ุชุทุจููุงุช ุงูููุจ',
        description: 'ุฏูุฑุฉ ุดุงููุฉ ูู ุชุทููุฑ ููุงูุน ุงูููุจ ุงูุญุฏูุซุฉ',
        instructor: 'ุณุงุฑุฉ ุฃุญูุฏ',
        imageUrl: 'images/logo.png',
        price: '299 ุฑูุงู',
        isFree: false,
        duration: 1800, // 30 ุณุงุนุฉ
        rating: 4.6,
        studentsCount: 890,
        category: 'ุชุทููุฑ ุงูููุจ',
        tags: ['HTML', 'CSS', 'JavaScript', 'React'],
        createdAt: now.subtract(const Duration(days: 45)),
        updatedAt: now.subtract(const Duration(days: 10)),
      ),
      Course(
        id: '3',
        title: 'ุฃุณุงุณูุงุช ุงูุจุฑูุฌุฉ',
        description: 'ููุฏูุฉ ุดุงููุฉ ูู ุนุงูู ุงูุจุฑูุฌุฉ ูููุจุชุฏุฆูู',
        instructor: 'ูุญูุฏ ุนูู',
        imageUrl: 'images/Flutter.png',
        price: 'ูุฌุงูู',
        isFree: true,
        duration: 900, // 15 ุณุงุนุฉ
        rating: 4.9,
        studentsCount: 2100,
        category: 'ุงูุจุฑูุฌุฉ',
        tags: ['Python', 'ุฃุณุงุณูุงุช', 'ููุทู ุงูุจุฑูุฌุฉ'],
        createdAt: now.subtract(const Duration(days: 60)),
        updatedAt: now.subtract(const Duration(days: 3)),
      ),
      Course(
        id: '4',
        title: 'ุชุตููู ูุงุฌูุงุช ุงููุณุชุฎุฏู',
        description: 'ุชุนูู ุชุตููู ูุงุฌูุงุช ุฌุฐุงุจุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู',
        instructor: 'ูุงุทูุฉ ุญุณู',
        imageUrl: 'images/logo.png',
        price: '199 ุฑูุงู',
        isFree: false,
        duration: 1080, // 18 ุณุงุนุฉ
        rating: 4.7,
        studentsCount: 680,
        category: 'ุงูุชุตููู',
        tags: ['UI/UX', 'Figma', 'Adobe XD'],
        createdAt: now.subtract(const Duration(days: 25)),
        updatedAt: now.subtract(const Duration(days: 7)),
      ),
      Course(
        id: '5',
        title: 'ุฃูู ุงููุนูููุงุช',
        description: 'ุฏูุฑุฉ ูุชูุฏูุฉ ูู ุญูุงูุฉ ุงูุฃูุธูุฉ ูุงูุดุจูุงุช',
        instructor: 'ุฎุงูุฏ ุงูุณุนูุฏ',
        imageUrl: 'images/Flutter.png',
        price: '399 ุฑูุงู',
        isFree: false,
        duration: 2400, // 40 ุณุงุนุฉ
        rating: 4.5,
        studentsCount: 420,
        category: 'ุงูุฃูู ุงูุณูุจุฑุงูู',
        tags: ['Cybersecurity', 'Network Security', 'Ethical Hacking'],
        createdAt: now.subtract(const Duration(days: 50)),
        updatedAt: now.subtract(const Duration(days: 15)),
      ),
      Course(
        id: '6',
        title: 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู',
        description: 'ููุฏูุฉ ูู ุชุนูู ุงูุขูุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู',
        instructor: 'ููุฑุง ุงูุฒูุฑุงูู',
        imageUrl: 'images/logo.png',
        price: '499 ุฑูุงู',
        isFree: false,
        duration: 3000, // 50 ุณุงุนุฉ
        rating: 4.8,
        studentsCount: 315,
        category: 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู',
        tags: ['AI', 'Machine Learning', 'Python', 'TensorFlow'],
        createdAt: now.subtract(const Duration(days: 40)),
        updatedAt: now.subtract(const Duration(days: 12)),
      ),
    ];
  }

  // ุจูุงูุงุช ููููุฉ ููุฃูุณุงู
  static List<Department> getDummyDepartments() {
    return [
      Department(
        id: '1',
        name: 'ููุฏุณุฉ ุงูุจุฑูุฌูุงุช',
        description: 'ุชุทููุฑ ุงูุชุทุจููุงุช ูุงูุฃูุธูุฉ ุงูุฐููุฉ',
        imageUrl: 'images/Flutter.png', // ุงุณุชุฎุฏุงู ุตูุฑุฉ Flutter ููุจุฑูุฌูุงุช
        color: AppColors.departmentColor1,
        courses:
            getDummyCourses().where((c) => c.category == 'ุงูุจุฑูุฌุฉ').toList(),
      ),
      Department(
        id: '2',
        name: 'ุฃูู ุงููุนูููุงุช',
        description: 'ุญูุงูุฉ ุงูุจูุงูุงุช ูุงูุดุจูุงุช ุงูุขููุฉ',
        imageUrl: 'images/logo.png', // ุงุณุชุฎุฏุงู ุงูููุฌู ูุฃูู ุงููุนูููุงุช
        color: AppColors.departmentColor2,
        courses: getDummyCourses()
            .where((c) => c.category == 'ุงูุฃูู ุงูุณูุจุฑุงูู')
            .toList(),
      ),
      Department(
        id: '3',
        name: 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู',
        description: 'ุชุนูู ุงูุขูุฉ ูุชูููุงุช ุงููุณุชูุจู',
        imageUrl: 'images/Flutter.png', // ุงุณุชุฎุฏุงู Flutter ููุฐูุงุก ุงูุงุตุทูุงุนู
        color: AppColors.departmentColor3,
        courses: getDummyCourses()
            .where((c) => c.category == 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู')
            .toList(),
      ),
      Department(
        id: '4',
        name: 'ุชุตููู ุงูุฌุฑุงููู',
        description: 'ุงูุฅุจุฏุงุน ุงูุจุตุฑู ูุงูุชุตููู ุงูุญุฏูุซ',
        imageUrl: 'images/logo.png', // ุงุณุชุฎุฏุงู ุงูููุฌู ููุชุตููู
        color: AppColors.courseColor1,
        courses:
            getDummyCourses().where((c) => c.category == 'ุงูุชุตููู').toList(),
      ),
      Department(
        id: '5',
        name: 'ุชุทููุฑ ุงูููุจ',
        description: 'ููุงูุน ููุจ ุชูุงุนููุฉ ููุจุชูุฑุฉ',
        imageUrl: 'images/Flutter.png', // ุงุณุชุฎุฏุงู Flutter ูุชุทููุฑ ุงูููุจ
        color: AppColors.courseColor2,
        courses: getDummyCourses()
            .where((c) => c.category == 'ุชุทููุฑ ุงูููุจ')
            .toList(),
      ),
      Department(
        id: '6',
        name: 'ุฅุฏุงุฑุฉ ุงูุฃุนูุงู',
        description: 'ุงูููุงุฏุฉ ูุงูุฑูุงุฏุฉ ูู ุงูุนูู',
        imageUrl: 'images/logo.png', // ุงุณุชุฎุฏุงู ุงูููุฌู ูุฅุฏุงุฑุฉ ุงูุฃุนูุงู
        color: AppColors.projectColor1,
        courses: [],
      ),
    ];
  }

  // ุจูุงูุงุช ููููุฉ ูููุดุงุฑูุน
  static List<Project> getDummyProjects() {
    final now = DateTime.now();
    return [
      // Featured projects (required additions)
      Project(
        id: 'featured_ecommerce',
        title: 'ูุชุฌุฑ ุฅููุชุฑููู',
        description:
            'ุชุทุจูู ูุชูุงูู ููุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูุน ูุธุงู ุฏูุน ูุฅุฏุงุฑุฉ ุงูููุชุฌุงุช.',
        imageUrl: 'images/logo.png',
        demoUrl: null,
        githubUrl: null,
        technologies: ['Flutter', 'Laravel', 'MySQL'],
        difficulty: 'medium',
        examples: [
          'ุญุณุงุจ ูุณุชุฎุฏู',
          'ุนุฑุจุฉ ุชุณูู',
          'ุจูุงุจุฉ ุฏูุน ุฅููุชุฑููู',
        ],
        howToWrite: [
          'ุญุฏุฏ ูุฆุงุช ุงูููุชุฌุงุช ูุฎุตุงุฆุตูุง',
          'ูุตู ุทุฑู ุงูุฏูุน ูุงูุดุญู ุงููุทููุจ',
          'ุญุฏุฏ ูุชุทูุจุงุช ููุญุฉ ุงูุฅุฏุงุฑุฉ',
        ],
        whatsappMessage:
            'ูุฑุญุจุง ๐\nุฃุฑุบุจ ุจุจูุงุก ูุชุฌุฑ ุฅููุชุฑููู ูุชูุงูู ููุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ.\n\nโ ุชู ุงูุฅุฑุณุงู ูู ุชุทุจูู ุฎุฑูุฌ',
        createdAt: now.subtract(const Duration(days: 90)),
      ),
      Project(
        id: 'featured_clothing',
        title: 'ูููุน ููุชุฌุฑ ููุงุจุณ',
        description:
            'ูุชุฌุฑ ุฃุฒูุงุก ุฅููุชุฑููู ูุน ูุชุงููุฌ ููุงุณุงุช ูุฃููุงูุ ุณูุฉ ูุฏูุนุ ูุฅุฏุงุฑุฉ ูุฎุฒูู.',
        imageUrl: 'images/logo.png',
        demoUrl: null,
        githubUrl: null,
        technologies: ['Flutter', 'Laravel', 'MySQL'],
        difficulty: 'medium',
        examples: [
          'ุฎูุงุฑุงุช ููุงุณ/ููู',
          'ุตูุฑ ูุชุนุฏุฏุฉ ููููุชุฌ',
          'ููุจููุงุช ูุดุญู',
        ],
        howToWrite: [
          'ุญุฏุฏ ูุธุงู ุงูููุงุณุงุช ูุงูุฎูุงุฑุงุช',
          'ูุตู ุณูุงุณุงุช ุงูุฅุฑุฌุงุน ูุงูุดุญู',
        ],
        whatsappMessage:
            'ูุฑุญุจุง ๐\nุฃุฑุบุจ ุจุจูุงุก ูููุน ููุชุฌุฑ ููุงุจุณ ูุน ูุธุงู ุฏูุน ูุฅุฏุงุฑุฉ ููุชุฌุงุช.\n\nโ ุชู ุงูุฅุฑุณุงู ูู ุชุทุจูู ุฎุฑูุฌ',
        createdAt: now.subtract(const Duration(days: 80)),
      ),
      Project(
        id: 'featured_phones',
        title: 'ูููุน ููุชุฌุฑ ููุงุชู',
        description:
            'ูุชุฌุฑ ูุฎุชุต ุจุงูููุงุชู ูุงูุฅูุณุณูุงุฑุงุช ูุน ููุงุฑูุฉ ุงูููุงุตูุงุช ูุถูุงู ูููุงุชูุฑ.',
        imageUrl: 'images/logo.png',
        demoUrl: null,
        githubUrl: null,
        technologies: ['Flutter', 'Next.js', 'Laravel', 'MySQL'],
        difficulty: 'advanced',
        examples: [
          'ููุงุฑูุฉ ุงูููุงุตูุงุช',
          'ุญุฌูุฒุงุช ูุณุจูุฉ',
          'ุฅุฏุงุฑุฉ ููุงุชูุฑ ูุถูุงู',
        ],
        howToWrite: [
          'ุญุฏุฏ ุญููู ููุงุตูุงุช ุงูุฃุฌูุฒุฉ',
          'ูุตู ูุธุงู ุงูููุงุฑูุฉ ูุงูุชุตููุฉ',
        ],
        whatsappMessage:
            'ูุฑุญุจุง ๐\nุฃุฑุบุจ ุจุจูุงุก ูููุน ููุชุฌุฑ ููุงุชู ูุน ุฅููุงููุฉ ููุงุฑูุฉ ุงูููุงุตูุงุช ูุฑุจุท ุงูุฅูุณุณูุงุฑุงุช.\n\nโ ุชู ุงูุฅุฑุณุงู ูู ุชุทุจูู ุฎุฑูุฌ',
        createdAt: now.subtract(const Duration(days: 70)),
      ),
      Project(
        id: 'featured_robot',
        title: 'ุฑูุจูุช ุฐูู',
        description:
            'ุฑูุจูุช ุฐูู ูุชุจุน ุงูุฎุท ููุชุฌูุจ ุงูุนูุงุฆู ูุน ุชุญูู ุนุจุฑ ุชุทุจูู ููุจุงูู.',
        imageUrl: 'images/logo.png',
        demoUrl: null,
        githubUrl: null,
        technologies: ['Arduino', 'ESP32', 'Flutter'],
        difficulty: 'advanced',
        examples: [
          'ุชุชุจุน ุฎุท',
          'ุชุฌูุจ ุนูุงุฆู',
          'ุชุญูู ุนุจุฑ ุชุทุจูู',
        ],
        howToWrite: [
          'ุญุฏุฏ ุงูุฃุฌูุฒุฉ ูุงููุณุชุดุนุฑุงุช ุงููุทููุจุฉ',
          'ูุตู ุฃูุถุงุน ุงูุชุดุบูู ูุงููุธุงุฆู ุงููุทููุจุฉ',
        ],
        whatsappMessage:
            'ูุฑุญุจุง ๐\nุฃุฑุบุจ ุจุชูููุฐ ูุดุฑูุน ุฑูุจูุช ุฐูู (ุชุชุจุน ุฎุท / ุชุฌูุจ ุนูุงุฆู) ูุน ุฅููุงููุฉ ุงูุชุญูู ุนุจุฑ ุชุทุจูู ููุจุงูู.\n\nโ ุชู ุงูุฅุฑุณุงู ูู ุชุทุจูู ุฎุฑูุฌ',
        createdAt: now.subtract(const Duration(days: 60)),
      ),
      Project(
        id: '2',
        title: 'ูุธุงู ุฅุฏุงุฑุฉ ุงููุฏุงุฑุณ',
        description: 'ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุงูุนูููุงุช ุงูุชุนููููุฉ ูุงูุทูุงุจ ูุงููุนูููู',
        imageUrl: 'images/Flutter.png',
        demoUrl: 'https://demo.schoolms.com',
        githubUrl: 'https://github.com/user/school-management',
        technologies: ['React', 'Node.js', 'MongoDB', 'Express'],
        createdAt: now.subtract(const Duration(days: 120)),
      ),
      Project(
        id: '3',
        title: 'ุชุทุจูู ุชูุตูู ุงูุทุนุงู',
        description: 'ููุตุฉ ุฑุจุท ุงููุทุงุนู ุจุงูุนููุงุก ูุน ูุธุงู ุชุชุจุน ุงูุทูุจุงุช',
        imageUrl: 'images/logo.png',
        demoUrl: 'https://demo.fooddelivery.com',
        githubUrl: 'https://github.com/user/food-delivery',
        technologies: ['Flutter', 'Laravel', 'MySQL', 'Google Maps API'],
        createdAt: now.subtract(const Duration(days: 75)),
      ),
      Project(
        id: '4',
        title: 'ููุตุฉ ุงูุชุนูู ุงูุฅููุชุฑููู',
        description: 'ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุนูู ูุน ููุงุทุน ููุฏูู ูุงุฎุชุจุงุฑุงุช ุชูุงุนููุฉ',
        imageUrl: 'images/Flutter.png',
        demoUrl: 'https://demo.lms.com',
        githubUrl: 'https://github.com/user/lms-platform',
        technologies: ['Vue.js', 'Django', 'PostgreSQL', 'Redis'],
        createdAt: now.subtract(const Duration(days: 105)),
      ),
      Project(
        id: '5',
        title: 'ุชุทุจูู ุฅุฏุงุฑุฉ ุงูููุงู',
        description: 'ุฃุฏุงุฉ ุฅูุชุงุฌูุฉ ูุชูุธูู ุงูููุงู ูุงููุดุงุฑูุน ุงูุดุฎุตูุฉ ูุงูุฌูุงุนูุฉ',
        imageUrl: 'images/logo.png',
        demoUrl: 'https://demo.taskmanager.com',
        githubUrl: 'https://github.com/user/task-manager',
        technologies: ['React Native', 'Supabase', 'TypeScript'],
        createdAt: now.subtract(const Duration(days: 60)),
      ),
    ];
  }

  // ุจูุงูุงุช ููููุฉ ูุชูุฏู ุงูุฏูุฑุงุช
  static List<CourseProgress> getDummyCourseProgress(String userId) {
    return [
      CourseProgress(
        courseId: '1',
        userId: userId,
        progress: 0.65,
        lastAccessed: DateTime.now().subtract(const Duration(hours: 2)),
        watchedVideos: 13,
        totalVideos: 20,
      ),
      CourseProgress(
        courseId: '2',
        userId: userId,
        progress: 0.30,
        lastAccessed: DateTime.now().subtract(const Duration(days: 1)),
        watchedVideos: 9,
        totalVideos: 30,
      ),
      CourseProgress(
        courseId: '4',
        userId: userId,
        progress: 0.85,
        lastAccessed: DateTime.now().subtract(const Duration(hours: 5)),
        watchedVideos: 15,
        totalVideos: 18,
      ),
    ];
  }

  // ููุงุญุธุฉ: ุชู ุญุฐู getDummyUserProfile() - ูุนูููุงุช ุงููุณุชุฎุฏู ุชุฃุชู ุงูุขู ูู API ููุท

  // ุงูุญุตูู ุนูู ุงูุฏูุฑุงุช ุงููุฌุงููุฉ
  static List<Course> getFreeCourses() {
    return getDummyCourses().where((course) => course.isFree).toList();
  }

  // ุงูุญุตูู ุนูู ุงูุฏูุฑุงุช ุงูุฃูุซุฑ ุดูุฑุฉ
  static List<Course> getPopularCourses({int limit = 6}) {
    final courses = getDummyCourses();
    courses.sort((a, b) => b.studentsCount.compareTo(a.studentsCount));
    return courses.take(limit).toList();
  }

  // ุงูุจุญุซ ูู ุงูุฏูุฑุงุช
  static List<Course> searchCourses(String query) {
    final courses = getDummyCourses();
    if (query.isEmpty) return courses;

    return courses.where((course) {
      return course.title.toLowerCase().contains(query.toLowerCase()) ||
          course.description.toLowerCase().contains(query.toLowerCase()) ||
          course.instructor.toLowerCase().contains(query.toLowerCase()) ||
          course.tags
              .any((tag) => tag.toLowerCase().contains(query.toLowerCase()));
    }).toList();
  }

  // ุงูุญุตูู ุนูู ุฏูุฑุงุช ูุณู ูุนูู
  static List<Course> getCoursesByDepartment(String departmentId) {
    final department = getDummyDepartments().firstWhere(
      (dept) => dept.id == departmentId,
      orElse: () => getDummyDepartments().first,
    );
    return department.courses;
  }

  // ูุนูููุงุช ุฅุถุงููุฉ ููุชุทุจูู
  static Map<String, dynamic> getAppInfo() {
    return {
      'version': '1.0.0',
      'buildNumber': '1',
      'lastUpdate': DateTime.now().subtract(const Duration(days: 7)),
      'totalCourses': getDummyCourses().length,
      'totalDepartments': getDummyDepartments().length,
      'totalProjects': getDummyProjects().length,
      'supportEmail': 'support@newgraduate.com',
      'supportPhone': '+966 50 123 4567',
      'socialLinks': {
        'instagram': 'https://instagram.com/newgraduate_app',
        'telegram': 'https://t.me/newgraduate_support',
        'whatsapp': 'https://wa.me/966501234567',
      },
    };
  }
}
