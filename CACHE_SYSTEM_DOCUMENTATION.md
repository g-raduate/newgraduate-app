# ูุธุงู ุงููุงุด ุงููุชูุฏู - Cache Management System

## ๐ ุงููุตู ุงูุนุงู

ุชู ุฅูุดุงุก ูุธุงู ูุงุด ูุชูุฏู ูุดุงูู ููุชุทุจูู ูุชุญุณูู ุงูุฃุฏุงุก ูุชูููู ุงุณุชููุงู ุงูุฅูุชุฑูุช ูุชูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู.

## ๐ฏ ุงูุฃูุฏุงู

### 1. **ุชุญุณูู ุงูุฃุฏุงุก**
- โก ุชุณุฑูุน ุชุญููู ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูุณุจูุงู
- ๐ ุชูููู ุนุฏุฏ ุทูุจุงุช API ุงููุชูุฑุฑุฉ
- ๐ฑ ุชุญุณูู ุงุณุชุฌุงุจุฉ ุงูุชุทุจูู

### 2. **ุชูููุฑ ุงูุจูุงูุงุช**
- ๐ ุชูููู ุงุณุชููุงู ุงูุฅูุชุฑูุช
- ๐พ ุงูุนูู ุฃุซูุงุก ุถุนู ุงูุงุชุตุงู
- ๐ ุชูููุฑ ุจุทุงุฑูุฉ ุงูุฌูุงุฒ

### 3. **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**
- ๐ ุชุญููู ููุฑู ููุจูุงูุงุช ุงููุญููุธุฉ
- ๐ฑ ุงุณุชุฎุฏุงู ุฃูุซู ููููุงุฑุฏ
- ๐จ ูุงุฌูุงุช ุณูุณุฉ ููุชุฌุงูุจุฉ

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### 1. **CacheManager Class**
```dart
class CacheManager {
  // Singleton pattern ูููุตูู ุงูุนุงููู
  static CacheManager get instance => _instance ??= CacheManager._internal();
  
  // ุฃููุงุน ูุฎุชููุฉ ูู ุงููุงุด ูุน ุฅุนุฏุงุฏุงุช ูุฎุตุตุฉ
  // ุชุฎุฒูู ูุฌูู: SharedPreferences + File System
}
```

### 2. **ุฃููุงุน ุงููุงุด ุงููุฏุนููุฉ**
```dart
enum CacheType {
  general,      // ุจูุงูุงุช ุนุงูุฉ - ุณุงุนุฉ ูุงุญุฏุฉ
  courses,      // ุฏูุฑุงุช - 24 ุณุงุนุฉ  
  videos,       // ููุฏูููุงุช - 30 ุฏูููุฉ
  summaries,    // ููุฎุตุงุช - 30 ุฏูููุฉ
  studentInfo,  // ูุนูููุงุช ุทุงูุจ - 24 ุณุงุนุฉ
  instructors,  // ูุฏุฑุณูู - ุณุงุนุฉ ูุงุญุฏุฉ
  departments,  // ุฃูุณุงู - ุณุงุนุฉ ูุงุญุฏุฉ
  image,        // ุตูุฑ - ุฃุณุจูุน ูุงุญุฏ
}
```

### 3. **ุฅุนุฏุงุฏุงุช ุงูุชูุงุก ุงูุตูุงุญูุฉ**
- โฑ๏ธ **ูุตูุฑ ุงููุฏู** (30 ุฏูููุฉ): ุงูููุฏูููุงุช ูุงูููุฎุตุงุช
- ๐ **ูุชูุณุท ุงููุฏู** (ุณุงุนุฉ ูุงุญุฏุฉ): ุงูุจูุงูุงุช ุงูุนุงูุฉ ูุงููุฏุฑุณูู
- ๐ **ุทููู ุงููุฏู** (24 ุณุงุนุฉ): ุงูุฏูุฑุงุช ููุนูููุงุช ุงูุทูุงุจ
- ๐๏ธ **ุทููู ุฌุฏุงู** (ุฃุณุจูุน): ุงูุตูุฑ ูุงููููุงุช ุงูุซุงุจุชุฉ

## ๐พ ุขููุฉ ุงูุชุฎุฒูู

### 1. **ุงูุชุฎุฒูู ุงููุฌูู**
```dart
// ููุจูุงูุงุช ุงูุตุบูุฑุฉ: SharedPreferences
await _prefs.setString(cacheKey, json.encode(cacheData));

// ููุจูุงูุงุช ุงููุจูุฑุฉ ูุงูุตูุฑ: File System
final file = File('${_cacheDir.path}/$key.json');
await file.writeAsString(json.encode(data));
```

### 2. **ูููู ุงูุจูุงูุงุช ุงููุญููุธุฉ**
```json
{
  "data": "ุงูุจูุงูุงุช ุงููุนููุฉ",
  "expiry": 1693920000000,
  "type": "CacheType.courses",
  "cached_at": "2025-08-20T10:30:00.000Z"
}
```

### 3. **ุชุดููุฑ ุงูููุงุชูุญ**
```dart
// ุงุณุชุฎุฏุงู MD5 hash ูุถูุงู ุชูุงุณู ุงูููุงุชูุญ
String _generateCacheKey(String key, CacheType type) {
  final hash = md5.convert(utf8.encode(key)).toString();
  return '${type.toString()}_cache_$hash';
}
```

## ๐ง ุงูููุฒุงุช ุงูููููุฐุฉ

### 1. **ุฅุฏุงุฑุฉ ุฐููุฉ ููุฐุงูุฑุฉ**
- โ ุชูุธูู ุชููุงุฆู ููุจูุงูุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ
- โ ูุฑุงูุจุฉ ุญุฌู ุงููุงุด
- โ ูุนูููุงุช ุชูุตูููุฉ ุนู ุงูุงุณุชุฎุฏุงู

### 2. **API ูุฑู ูุณูู ุงูุงุณุชุฎุฏุงู**
```dart
// ุญูุธ ุจูุงูุงุช
await CacheManager.instance.setCache('key', data, type: CacheType.courses);

// ุงุณุชุฑุฌุงุน ุจูุงูุงุช
List<dynamic>? courses = await CacheManager.instance.getCourses('key');

// ูุณุญ ุจูุงูุงุช
await CacheManager.instance.clearCacheByType(CacheType.videos);
```

### 3. **ุฏูุงู ูุฎุตุตุฉ ููู ููุน ุจูุงูุงุช**
```dart
// ุฏูุฑุงุช
await CacheManager.instance.setCourses(key, courses);
List<dynamic>? courses = await CacheManager.instance.getCourses(key);

// ููุฏูููุงุช
await CacheManager.instance.setVideos(courseId, videos);
List<dynamic>? videos = await CacheManager.instance.getVideos(courseId);

// ูุนูููุงุช ุทุงูุจ
await CacheManager.instance.setStudentInfo(studentId, info);
Map<String, dynamic>? info = await CacheManager.instance.getStudentInfo(studentId);
```

## ๐ฑ ูุงุฌูุงุช ุงููุณุชุฎุฏู

### 1. **CacheInfoWidget**
- ๐พ ุนุฑุถ ุณุฑูุน ูุญุฌู ุงููุงุด ูุนุฏุฏ ุงูุนูุงุตุฑ
- ๐ ุฑุงุจุท ูุจุงุดุฑ ูุดุงุดุฉ ุงูุฅุฏุงุฑุฉ ุงูุชูุตูููุฉ
- ๐ ุชุญุฏูุซ ููุฑู ููุฅุญุตุงุฆูุงุช

### 2. **CacheManagementScreen**
- ๐ ูุนูููุงุช ุชูุตูููุฉ ุนู ุงููุงุด
- ๐๏ธ ุฅุฏุงุฑุฉ ูููุตูุฉ ููู ููุน ุจูุงูุงุช
- ๐งน ูุณุญ ุงูุชูุงุฆู ุฃู ุดุงูู
- โ๏ธ ุชุญุฐูุฑุงุช ูุจู ุงููุณุญ

### 3. **ููุฒุงุช ุงูุฃูุงู**
- โ ุชุฃููุฏ ูุจู ุงููุณุญ
- โ๏ธ ุชุญุฐูุฑุงุช ูุงุถุญุฉ ูููุณุชุฎุฏู
- ๐ ุฑุณุงุฆู ูุฌุงุญ/ูุดู ุงูุนูููุงุช

## ๐ ุงูุชูุงูู ูุน ุงูุชุทุจูู

### 1. **CourseDetailScreen**
```dart
// ูุญุงููุฉ ุชุญููู ูู ุงููุงุด ุฃููุงู
List<dynamic>? cachedVideos = await CacheManager.instance.getVideos(courseId);
if (cachedVideos != null) {
  // ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุญููุธุฉ
  return;
}

// ุฅุฐุง ูู ุชูุฌุฏุ ุฌูุจ ูู API ูุญูุธ ูู ุงููุงุด
final response = await http.get(...);
await CacheManager.instance.setVideos(courseId, responseData);
```

### 2. **ProfileScreen**
```dart
// ุงูุจุญุซ ูู ุงููุงุด ุนู ูุนูููุงุช ุงูุทุงูุจ
Map<String, dynamic>? cachedInfo = await CacheManager.instance.getStudentInfo(studentId);
if (cachedInfo != null) {
  // ุนุฑุถ ุงูุจูุงูุงุช ุงููุญููุธุฉ ููุฑุงู
}

// ุชุญุฏูุซ ูู API ูู ุงูุฎูููุฉ
final apiData = await StudentService.getStudentInfo(studentId);
await CacheManager.instance.setStudentInfo(studentId, apiData);
```

### 3. **ุชููุฆุฉ ุงููุธุงู**
```dart
@override
void initState() {
  super.initState();
  _initializeCache();
}

Future<void> _initializeCache() async {
  await CacheManager.instance.initialize();
}
```

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ

### 1. **ูุนูููุงุช ุงูุญุฌู**
- ๐ ุญุณุงุจ ุฏููู ูุญุฌู ุงูุจูุงูุงุช ุจุงูููุฌุงุจุงูุช
- ๐ข ุนุฏุฏ ุงูุนูุงุตุฑ ุงููุญููุธุฉ
- ๐ ุชูุงุฑูุฎ ุขุฎุฑ ุชูุธูู

### 2. **ุฅุฏุงุฑุฉ ุงูุฃุฏุงุก**
- ๐ ุชูุธูู ุฏูุฑู ุชููุงุฆู
- ๐๏ธ ุญุฐู ุงูุจูุงูุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ
- ๐ ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู

## ๐๏ธ Dependencies ุงูููุถุงูุฉ

### pubspec.yaml
```yaml
dependencies:
  crypto: ^3.0.3          # ูุชุดููุฑ ููุงุชูุญ ุงููุงุด
  path_provider: ^2.1.2   # ูููุตูู ููุฌูุฏุงุช ุงูุชุฎุฒูู
  shared_preferences: ^2.2.2  # (ููุฌูุฏ ูุณุจูุงู)
```

## ๐ฏ ุงูููุงุฆุฏ ุงูููุญููุฉ

### 1. **ูููุณุชุฎุฏู**
- โก ุชุทุจูู ุฃุณุฑุน ูุฃูุซุฑ ุงุณุชุฌุงุจุฉ
- ๐ ุงุณุชููุงู ุฃูู ููุฅูุชุฑูุช
- ๐พ ุนูู ุฌุฒุฆู ุฃุซูุงุก ุงููุทุงุน ุงูุงุชุตุงู
- ๐ ุชูููุฑ ูู ุจุทุงุฑูุฉ ุงูุฌูุงุฒ

### 2. **ููุฎุงุฏู**
- ๐ ุชูููู ุงูุญูู ุนูู API
- ๐ฐ ุชูููุฑ ูู ุชูุงููู ุงูุจุงูุฏููุซ
- ๐ก๏ธ ุญูุงูุฉ ูู ุงูุทูุจุงุช ุงููุชูุฑุฑุฉ
- ๐ ุฃุฏุงุก ุฃูุถู ููุฎุงุฏู

### 3. **ูููุทูุฑ**
- ๐๏ธ ูุธุงู ุณูู ุงูุงุณุชุฎุฏุงู ูุงูุตูุงูุฉ
- ๐ ููุฏ ููุธู ููุฑู
- ๐ง ุฅููุงููุงุช ุชูุณุน ูุณุชูุจููุฉ
- ๐ ุฃุฎุทุงุก ุฃูู ูู ุงูุชุทุจูู

## ๐ ุงูุงุณุชุฎุฏุงู ุงููุณุชูุจูู

### 1. **ุฅููุงููุงุช ุงูุชูุณุน**
- ๐ ุฅุถุงูุฉ ุฃููุงุน ูุงุด ุฌุฏูุฏุฉ
- โ๏ธ ุฅุนุฏุงุฏุงุช ุฃูุซุฑ ุชุฎุตุตุงู
- ๐ฑ ุฏุนู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ
- โ๏ธ ูุฒุงููุฉ ูุน ุงูุชุฎุฒูู ุงูุณุญุงุจู

### 2. **ุชุญุณููุงุช ููุชุฑุญุฉ**
- ๐ค ูุงุด ุฐูู ุจูุงุกู ุนูู ุณููู ุงููุณุชุฎุฏู
- ๐ ุฅุญุตุงุฆูุงุช ุฃูุซุฑ ุชูุตููุงู
- ๐ ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ๐ ูุงุด ููุตูุญุงุช ุบูุฑ ุงููุชุตูุฉ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 20 ุฃุบุณุทุณ 2025  
**ุงูุญุงูุฉ**: โ ูููุชูู ูููุฎุชุจุฑ  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงููุทูุฑ**: ูุธุงู ุงููุงุด ุงููุชูุฏู ููุฎุฑูุฌ ุงูุฌุฏูุฏ
