# ุชุทุจูู ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ุนูุฏ ุงูุถุบุท ุนูู "ุฏูุฑุงุชู" ููู ุนุฏุฉ ููุงุณุงุช ุฃุฎุฑู

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทุจูู ูุธุงู ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู ุนุฏุฉ ุฃูุงูู ูู ุงูุชุทุจูู ูุถูุงู ุฃูุงู ุงููุณุชุฎุฏู ูุชูููุฑ ุชุฌุฑุจุฉ ุณูุณุฉ ุนูุฏ ุงูุชูุงุก ุตูุงุญูุฉ ุงูุชููู.

## ๐ฏ ุงููููุงุช ุงูุชู ุชู ุชุญุฏูุซูุง

### 1. **ุตูุญุฉ "ุฏูุฑุงุชู" (My Courses Screen)**
**ุงูููู:** `lib/features/courses/screens/my_courses_screen.dart`

#### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `TokenExpiredHandler`
- โ ุชุญุฏูุซ ุฏุงูุฉ `_loadStudentCourses()` ููุญุต ุงูุชูุงุก ุงูุฌูุณุฉ
- โ ุชุญุฏูุซ ุฏุงูุฉ `_refreshCourses()` ููุญุต ุงูุชูุงุก ุงูุฌูุณุฉ
- โ ุฅุถุงูุฉ ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ูุน ุฑุณุงุฆู ููุงุณุจุฉ ูููุณุชุฎุฏู
- โ ุงุณุชุฎุฏุงู `mounted` ููุชุฃูุฏ ูู ุฃู ุงูููุฌุช ูุง ูุฒุงู ูุดุทุงู

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
```dart
// ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ุนูุฏ ูุดู ุชุญููู ุงูุจูุงูุงุช
if (mounted && await TokenExpiredHandler.handleTokenExpiration(context)) {
  return; // ุชู ุงูุชุนุงูู ูุน ุงูุชูุงุก ุงูุชููู
}

// ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู ุญุงูุฉ ุงูุฎุทุฃ  
if (mounted && await TokenExpiredHandler.handleTokenExpiration(
  context,
  errorMessage: e.toString(),
)) {
  return; // ุชู ุงูุชุนุงูู ูุน ุงูุชูุงุก ุงูุชููู
}
```

---

### 2. **ุฎุฏูุฉ ุงูุฏูุฑุงุช (Courses Service)**
**ุงูููู:** `lib/services/courses_service.dart`

#### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `TokenExpiredHandler`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `getStudentCourses()`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `getCourses()`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `searchCourses()`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `getCourseDetails()`

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
```dart
// ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ููุฃููุงุฏ ุงูุฎุงุตุฉ ุจุงูุชููู
if (response.statusCode == 401 || response.statusCode == 403) {
  print('๐ ุชู ุงูุชุดุงู ุงูุชูุงุก ุงูุฌูุณุฉ ูู ุฏูุฑุงุช ุงูุทุงูุจ');
  return null; // ุงููุงุฌูุฉ ุณุชุชููู ุนุฑุถ ุงูุฑุณุงูุฉ ูุชุณุฌูู ุงูุฎุฑูุฌ
}
```

---

### 3. **ุตูุญุฉ ุฏูุฑุงุช ุงูุฃุณุชุงุฐ (Instructor Courses Screen)**
**ุงูููู:** `lib/features/instructors/screens/instructor_courses_screen.dart`

#### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `TokenExpiredHandler`
- โ ุชุญุฏูุซ ุฏุงูุฉ `_loadInstructorCourses()` ููุญุต ุงูุชูุงุก ุงูุฌูุณุฉ
- โ ุฅุถุงูุฉ ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ูุน ูุญุต ุงูุฌูุณุฉ
- โ ุงุณุชุฎุฏุงู `mounted` ููุชุฃูุฏ ูู ุณูุงูุฉ ุงูุญุงูุฉ

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
```dart
// ุงูุชุญูู ูู ุงูุชูุงุก ุงูุฌูุณุฉ
if (mounted && await TokenExpiredHandler.handleTokenExpiration(
  context,
  statusCode: response.statusCode,
  errorMessage: response.body,
)) {
  return; // ุชู ุงูุชุนุงูู ูุน ุงูุชูุงุก ุงูุชููู
}
```

---

### 4. **ุตูุญุฉ ุชูุงุตูู ุงูุฏูุฑุฉ (Course Detail Screen)**
**ุงูููู:** `lib/features/courses/screens/course_detail_screen.dart`

#### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `TokenExpiredHandler`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู ุชุญููู ุงูููุฏูููุงุช (`_loadVideos()`)
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู ุชุญููู ุงูููุฎุตุงุช (`_loadSummaries()`)
- โ ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ูุน ูุญุต ุงูุฌูุณุฉ

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
```dart
// ุงูุชุญูู ูู ุงูุชูุงุก ุงูุฌูุณุฉ
if (mounted && await TokenExpiredHandler.handleTokenExpiration(
  context,
  statusCode: response.statusCode,
  errorMessage: response.body,
)) {
  return; // ุชู ุงูุชุนุงูู ูุน ุงูุชูุงุก ุงูุชููู
}
```

---

### 5. **ุฎุฏูุฉ ุงูุทูุงุจ (Student Service)**
**ุงูููู:** `lib/services/student_service.dart`

#### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `TokenExpiredHandler`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `getStudentInfo()`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `updateStudentInfo()`
- โ ุทุจุงุนุฉ ุฑุณุงุฆู ุชุดุฎูุตูุฉ ููุงุณุจุฉ

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
```dart
// ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ
if (response.statusCode == 401 || response.statusCode == 403) {
  print('๐ ุชู ุงูุชุดุงู ุงูุชูุงุก ุงูุฌูุณุฉ ูู ูุนูููุงุช ุงูุทุงูุจ');
}
```

---

### 6. **ุฎุฏูุฉ ุงูุฃุณุงุชุฐุฉ (Instructor Service)**
**ุงูููู:** `lib/services/instructor_service.dart`

#### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `TokenExpiredHandler`
- โ ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ ูู `getInstructorsByInstitute()`
- โ ุทุจุงุนุฉ ุฑุณุงุฆู ุชุดุฎูุตูุฉ ููุงุณุจุฉ

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
```dart
// ูุญุต ุงูุชูุงุก ุงูุฌูุณุฉ
if (response.statusCode == 401 || response.statusCode == 403) {
  print('๐ ุชู ุงูุชุดุงู ุงูุชูุงุก ุงูุฌูุณุฉ ูู ุงูุฃุณุงุชุฐุฉ');
}
```

---

## ๐ง ุขููุฉ ุงูุนูู

### 1. **ูุญุต ุชููุงุฆู ููุฃุฎุทุงุก**
- ูุชู ูุญุต ุฃููุงุฏ HTTP: `401` (Unauthorized) ู `403` (Forbidden)
- ูุชู ูุญุต ุฑุณุงุฆู ุงูุฎุทุฃ ูููููุงุช ุงูููุชุงุญูุฉ: `Unauthorized`, `Token expired`, `Invalid token`

### 2. **ุนุฑุถ ุฑุณุงูุฉ ูุฏูุฉ**
ุนูุฏ ุงูุชุดุงู ุงูุชูุงุก ุงูุฌูุณุฉุ ูุชู ุนุฑุถ:
- โจ ุฑุณุงูุฉ ูุงุถุญุฉ ุนู ุงูุชูุงุก ุงูุฌูุณุฉ
- โฐ ุนุฏ ุชูุงุฒูู ุจุตุฑู (5 ุซูุงูู)
- ๐จ ุชุตููู ุฌุฐุงุจ ูุน ุฃููููุงุช
- โก ุฅููุงููุฉ ุชุณุฌูู ุงูุฎุฑูุฌ ุงูููุฑู

### 3. **ุชูุธูู ุงูุจูุงูุงุช**
- ๐๏ธ ูุณุญ ุฌููุน ุงูุจูุงูุงุช ุงููุญููุธุฉ
- ๐ ูุณุญ ุงูุชููู
- ๐ค ูุณุญ ูุนูููุงุช ุงููุณุชุฎุฏู
- ๐ฑ ุงูุงูุชูุงู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

## ๐จ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

### **ุนูุฏ ุงูุชูุงุก ุงูุฌูุณุฉ:**
1. ๐ **ูุดู ุชููุงุฆู** - ุงููุธุงู ููุชุดู ุงูุชูุงุก ุงูุชููู ููุฑุงู
2. ๐ฌ **ุฑุณุงูุฉ ูุฏูุฉ** - ุนุฑุถ ุฑุณุงูุฉ ูููููุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
3. โฑ๏ธ **ุนุฏ ุชูุงุฒูู** - ุฅุนุทุงุก ุงููุณุชุฎุฏู ููุช ููุงุณุชุนุฏุงุฏ
4. ๐ **ุชุณุฌูู ุฎุฑูุฌ ุขูู** - ุชูุธูู ูุงูู ููุจูุงูุงุช
5. ๐ **ุงูุชูุงู ุณูุณ** - ุงูุนูุฏุฉ ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

## ๐ ุงููููุฒุงุช ุงููุถุงูุฉ

### โ **ุงูุฃูุงู**
- ูุญุต ุดุงูู ูุงูุชูุงุก ุตูุงุญูุฉ ุงูุชููู
- ุชูุธูู ูุงูู ููุจูุงูุงุช ุงูุญุณุงุณุฉ
- ููุน ุงุณุชุฎุฏุงู ุชููู ููุชูู ุงูุตูุงุญูุฉ

### โ **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**
- ุฑุณุงุฆู ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุนุฏ ุชูุงุฒูู ุจุตุฑู
- ุงูุชูุงูุงุช ุณูุณุฉ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุฃูุงูุฉ

### โ **ุงูุงุณุชูุฑุงุฑ**
- ุงุณุชุฎุฏุงู `mounted` ููุชุญูู ูู ุญุงูุฉ ุงูููุฌุช
- ูุนุงูุฌุฉ ุดุงููุฉ ููุงุณุชุซูุงุกุงุช
- ุฑุณุงุฆู ุชุดุฎูุตูุฉ ูููุฏุฉ ูููุทูุฑูู

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. **ูุญุงูุงุฉ ุงูุชูุงุก ุงูุชููู**
```dart
// ุงุณุชุฎุฏุงู ุชููู ููุชูู ุงูุตูุงุญูุฉ
headers['Authorization'] = 'Bearer expired-token';
```

### 2. **ุงูุชุญูู ูู ุงูุณููู**
- โ ุนุฑุถ ุงูุฑุณุงูุฉ ูุงูุนุฏ ุงูุชูุงุฒูู
- โ ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุชููุงุฆู
- โ ุงูุงูุชูุงู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- โ ุชูุธูู ุฌููุน ุงูุจูุงูุงุช ุงููุญููุธุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช

- **ุงููููุงุช ุงููุญุฏุซุฉ:** 6 ูููุงุช
- **ุงูุฏูุงู ุงููุญุฏุซุฉ:** 12 ุฏุงูุฉ
- **ููุงุท ุงููุญุต ุงููุถุงูุฉ:** 15 ููุทุฉ
- **ููุน ุงููุญุต:** ุชููุงุฆู ูุดุงูู

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุงูุขู ุนูุฏ ุงูุถุบุท ุนูู "ุฏูุฑุงุชู" ุฃู ุงุณุชุฎุฏุงู ุฃู ูู ุงูุฎุฏูุงุช ุงููุญุฏุซุฉ:
- ๐ **ูุญุต ุชููุงุฆู** ูุงูุชูุงุก ุงูุฌูุณุฉ
- ๐ฌ **ุฑุณุงูุฉ ูุฏูุฉ** ุนูุฏ ุงูุชูุงุก ุงูุชููู
- ๐ **ุชุณุฌูู ุฎุฑูุฌ ุขูู** ูุงูุชูุงู ุณูุณ
- โจ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ** ูุฃูุงู ุนุงูู

---

**๐ ููุงุญุธุฉ:** ุฌููุน ุงูุชุญุฏูุซุงุช ุชุชูุงุดู ูุน ุงููุธุงู ุงูููุฌูุฏ ููุง ุชุคุซุฑ ุนูู ุงููุธุงุฆู ุงูุฃุฎุฑู ูู ุงูุชุทุจูู.
